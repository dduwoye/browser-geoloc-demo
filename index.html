<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Hello DOM!</title>
    <script>
      function geolocate() {
        var map = document.getElementById("map");

        function success(position) {
          var latitude  = position.coords.latitude;
          var longitude = position.coords.longitude;

          map.innerHTML = '<p>Latitude : ' + latitude + '° <br>Longitude : ' + longitude + '°</p>';

          var img = new Image();
          img.src = "http://maps.googleapis.com/maps/api/staticmap?center=" + latitude + "," + longitude + "&zoom=13&size=300x300&sensor=false";

          map.appendChild(img);
        };

        map.innerHTML = "<p>Localisation…</p>";

        navigator.geolocation.getCurrentPosition(success);
      }
    </script>
  </head>
  <body>
    <p><button onclick="geolocate()">ou suis-je ?</button></p>
    <div id="map"></div>
  </body>
</html>
